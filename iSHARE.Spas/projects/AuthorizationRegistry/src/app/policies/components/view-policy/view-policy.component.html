<div *ngIf="!loading">
  <h3>View policy {{id}}</h3>
  <div id="json-viewer">
    <ngx-json-viewer [json]="parsedForViewer"></ngx-json-viewer>
  </div>
  <div *ngIf="model?.history.length == 0" class="no-history">
    <i class="fa fa-history" aria-hidden="true"></i>
    <span>No history</span>
  </div>
  <div *ngIf="model?.history.length > 0">
    <h4 (click)="historyVisible = !historyVisible">
      <i class="fa fa-history" aria-hidden="true"></i> History
      <i class="fa fa-chevron-up" aria-hidden="true" *ngIf="historyVisible"></i>
      <i class="fa fa-chevron-down" aria-hidden="true" *ngIf="!historyVisible"></i>
    </h4>
    <div id="history" [ngClass]="{'visible': historyVisible, 'hidden': !historyVisible}">
      <div id="timeframe"></div>
      <app-history-item *ngFor="let item of model?.history" [item]="item" [authorizationRegistryId]="id">
      </app-history-item>
    </div>
  </div>
  <button type="button" class="btn btn-primary" (click)="back()">
    <i class="fa fa-arrow-left" aria-hidden="true"></i>back
  </button>
</div>